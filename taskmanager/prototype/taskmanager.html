<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<meta charset="utf-8/>
		<meta name="author" content="Ahsan Khan"/>
		<meta name="description" content="Drag and drop task manager"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<link rel="stylesheet"  type="text/css" media="screen" href="style.css"/>
		<link rel="stylesheet" type="text/css" media="screen" href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css"/>
		<link rel="stylesheet" type="text/css" media="screen" href="http://twitter.github.com/bootstrap/assets/css/bootstrap-responsive.css"/>
		<script type="text/javascript" src="redips-drag-min.js"></script>
		<script type="text/javascript" src="script.js"></script>

		<!-- Placed at the end of the document so the pages load faster -->
		<script src="http://twitter.github.com/bootstrap/assets/js/jquery.js"></script>
		<!--    <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-transition.js"></script> -->
		<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-alert.js"></script>
		<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-modal.js"></script>
		<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-dropdown.js"></script>
		<!--    <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-scrollspy.js"></script> -->
		<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-tab.js"></script>
		<!--    <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-tooltip.js"></script> -->
		<!--    <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-popover.js"></script> -->
		<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-button.js"></script>
		<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script>
		<!--    <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-carousel.js"></script> -->
		<!--    <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-typeahead.js"></script> -->
		<title>Task manager</title>
	<script>
	$(document).ready(function () {
		$('#task-submit').on('click', function(e){
			// We don't want this to act as a link so cancel the link action
			e.preventDefault();
			// Find form and submit it
			$('#task-form').submit();
		});
		$("#task-form").submit(function() {
			var bValid = true;
			if (bValid) {
				var name= $("#name"),
				 assignedTo = $("#assignedTo"),
				 size = $("#size"),
				 allFields = $([]).add(name).add(assignedTo).add(size);
				var text = "<div class=\"drag\">"
					+ '<ul class="sticky_notes"><li class="yellow"><h2>'
					+ name.val() + '</h2>' + assignedTo.val() + ' (' +
								size.val() + ')'
					+ '</li></ul>' + "</div>"
				$("#initial").append(text);
				REDIPS.drag.enableDrag('init');
				$("#task-div").modal('hide');
			}
			return false;
		});
		});
	</script>
	</head>
	<body onload="REDIPS.drag.init()">
		<div class="row">
			<div class="span1">
			</div>
			<div clsss="span11">
				<p>
					<a data-toggle="modal" href="#task-div" class="btn">Create new task</a>
				</p>
			</div>
		</div>
		<div class="row">
			<div class="span1"></div>
			<div clsss="span11">

				<div id="task-div" class="modal hide fade">
					<div class="modal-header">
						<a href="#" class="close" data-dismiss="modal">x</a>
						<h3>Enter task information</h3>
					</div>
					<div class="modal-body">
						<form class="form-horizontal" id="task-form" method='post' action=''>
							<fieldset>
								<div class="control-group">
									<label class="control-label">Name</label>
									<div class="controls">
										<input type="text" class="input" id="name" name="name" rel="popover" data-content="Enter name of the task" data-original-title="Task Name">
									</div>
								</div>
								<div class="control-group">
									<label class="control-label">Assigned to</label>
									<div class="controls">
										<input type="text" class="input" id="assignedTo" name="assignedTo" rel="popover" data-content="Enter name of the person" data-original-title="Person name">
									</div>
								</div>
								<div class="control-group">
									<label class="control-label">Size</label>
									<div class="controls">
										<input type="text" class="input" id="size" name="name" rel="popover" data-content="Enter size of the task" data-original-title="Task size">
									</div>
								</div>

							</fieldset>
						</form>
					</div>
					<div class="modal-footer">
						<button type="submit" id='task-submit' class="btn btn-success" >Create Task</button>
						<a href="#" class="btn cancelBtn" data-dismiss="modal">Cancel</a>
					</div>					
				</div>
			</div>
		</div>
		<div class="row">
			<div class="span1"></div>
			<div class="span11">
				<div id="drag">
					<table id="tasks">
						<colgroup>
							<col width="100"/>
							<col width="100"/>
							<col width="100"/>
							<col width="100"/>
						</colgroup>
						<thead>
							<tr>
								<td class="mark dark">Initial</td>
								<td class="mark dark">Working</td>
								<td class="mark dark">Validation</td>
								<td class="mark dark">Done</td>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td id="initial"></td>
								<td id="working"></td>
								<td id="validation"></td>
								<td id="done"></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</body>
</html>

